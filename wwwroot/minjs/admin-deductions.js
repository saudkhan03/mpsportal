var adminmodule=angular.module("app-mps",[]);adminmodule.controller("admin-deductions",["$scope","$http",function(e,n){var d=[];e.wait=!0,n.get("/Admin/LoadDeductions").then(function(t){d=t.data,e.DeductionList=d,e.deductionButtonText="Add Deduction",e.wait=!1},function(t){alert(t.statusText),e.wait=!1}),e.changed=function(){e.DeductionList=e.searchtext?performfilter(e.searchtext):d},performfilter=function(t){return filterby=t.toLocaleLowerCase(),d.filter(function(t){return-1!=t.name.toLocaleLowerCase().indexOf(filterby)})},e.getDeduction=function(t){e.wait=!0,n.get("/Admin/getDeduction",{params:{id:t}}).then(function(t){e.deduction=t.data,e.wait=!1},function(t){e.wait=!1,alert(t.statusText)}),e.deductionButtonText="Update Deduction"},e.addDeduction=function(){e.wait=!0,n.post("/Admin/AddDeduction",e.deduction).then(function(t){e.wait=!1,alert("Deduction Added/Updated"),window.location.reload(!0)},function(t){e.wait=!1,alert(t.statusText)})},e.clearDeductionForm=function(){e.deduction.id="",e.deduction.deductionName="",e.deduction.deductionDesc="",e.deduction.deductionType="Rs",e.deduction.deductionValue="",e.deductionButtonText="Add Deduction"},e.deleteDeduction=function(){e.wait=!0,n.post("/Admin/DeleteDeduction",e.deduction).then(function(t){e.wait=!1,alert("Deduction deleted"),window.location.reload(!0)},function(t){e.wait=!1,alert(t.statusText)})}}]);