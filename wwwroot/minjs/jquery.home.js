$(document).ready(function(){var t=$("#username").text().trim();if(t){$("#pnlHead").text("Logged in as "+t);var e=$("#getUserDetailsUrl").data("request-url");$.post(e,{username:t},function(t){$(".navbar-default > .container > .navbar-collapse > .nav").attr("style","display:block"),$(".fa-spin").hide(),$("#div1").html('<div class="head"><b>Hello '+t.user.firstName+" "+t.user.lastName+" </b></div>");var e='<div class="data"> Email: '+t.user.email+"</div><br>";e+='<div class="data">DOB: '+t.user.dob.split("T")[0]+"</div><br>",e+='<div class="data">Address: '+t.user.address1+"</div><br>",""==t.imgUrl?e+='<div style="width:100px;height:100px;border:1px inset #CCC;position: absolute;top: 2px;left: 339px;"></div>':e+='<img style="width:100px;height:100px;position: absolute;top: 2px;left: 339px;" src="'+t.imgUrl+'"></img>',$("#div1").append(e);var a=""==t.role?"NA":t.role;$("#hidUserRole").val(a);var d="";if("Student"==a&&(d='<div class="data">From class <b>'+t.student.slab.grade+"</b></div>",d+='<div class="data">for the year <b>'+t.student.academicYear+"</b></div>",d+='<div class="data">in <b>'+t.student.slab.slabName+"</b></div>"),"Staff"!=a&&"Teacher"!=a||(d='<div class="data">You have the permission of a <b>'+a+"</b></div>"),$("#div2").html(d),"Student"==a){var i=$("#getStudentDetailsUrl").data("request-url");$(".js-student").show(),$(".js-loadStudent").show(),$.post(i,{username:$("#username").text().trim()},function(t){if($(".js-loadStudent").hide(),console.log(t),0==t.length)$("#indexMarks").html("<div class='text-info'>No data found for student</div>");else{var a='<table class="table table-bordered" style="color:#092A72">';a+='<tr style="text-align:center">',a+="<th>Subject</th>",a+="<th>First Mid Term Examination (20)</th>",a+="<th>Second Mid Term Examination (20)</th>",a+="<th>First Terminal Examination (60)</th>",a+="<th>Third Mid Term Examination (20)</th>",a+="<th>Fourth Mid Term Examination (20)</th>",a+="<th>Second Terminal Examination (60)</th>",a+="</tr>",$.each(t,function(t,e){"Marks"!=e.type&&"Grade"!=e.type||(a+="<tr>",a+="<td>"+e.subject+"</td>",a+="<td>"+e.exam1+"</td>",a+="<td>"+e.exam2+"</td>",a+="<td>"+e.exam3+"</td>",a+="<td>"+e.exam4+"</td>",a+="<td>"+e.exam5+"</td>",a+="<td>"+e.exam6+"</td>",a+="</tr>")}),a+="</table>",$("#indexMarks").html(a)}})}})}});